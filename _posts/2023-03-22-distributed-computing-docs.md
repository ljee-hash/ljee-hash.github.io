---
layout:     post
title:      "什么是分布式系统，如何学习分布式系统？"
subtitle:   "Write with markdown"
date:       2023-03-22 10:18:56
author:     "Ljeehash"
header-img: ""
tags:
    - distributed
    - 分布式
---

<think>
分布式系统涉及到很多的技术、理论与协议，很多人也说，分布式系统是“入门容易，深入难”，我之前的学习也只算是管中窥豹，只见得其中一斑。因此，一致希望能对分布式系统有一个更全面的认识，至少能够把分布式系统中的各个技术、理论串起来，了解他们在分布式系统分别解决什么问题，有哪些优秀的实现。
我曾在网络上搜索过”如何学习分布式系统“，也在知乎上关注了该话题，但并没有看到一个全面的、有指导意义的答案。本文的目标是给打算全面学习分布式系统的自己、以及感兴趣的读者指明一条可行的路径，使得之后的学习不再盲目。
不过，我并没有越过这座山，我只是站在山前，从前人留下的痕迹揣测山的全貌与沟壑，臆想的成分居多，还望各位大师指点迷津。[1](https://developer.aliyun.com/article/856697)
</think>

### 什么是分布式系统？
**分布式系统**是由多台计算机（节点）通过网络连接协同工作，共同完成任务的系统。这些节点可以分布在不同的地理位置，通过消息传递进行通信和协调，对外表现为一个统一的整体。分布式系统的核心目标包括：

- **高可用性**：通过冗余和故障转移减少单点故障。
- **可扩展性**：通过添加节点提升系统处理能力。
- **容错性**：在部分节点故障时仍能正常运行。
- **一致性**：确保数据或状态在不同节点间的同步。

典型应用包括云计算平台（如AWS）、分布式数据库（如Cassandra）、微服务架构等。

---

### 如何学习分布式系统？
#### 1. **掌握基础知识**
   - **计算机基础**：深入理解操作系统、网络通信（TCP/IP、HTTP）、并发与多线程。
   - **核心理论**：学习CAP定理、一致性模型（强一致性、最终一致性）、分布式事务（两阶段提交、三阶段提交）、共识算法（Paxos、Raft）。
   - **数据管理**：掌握分片（Sharding）、复制（Replication）、分布式存储（如HDFS、Ceph）。

#### 2. **实践技术栈**
   - **分布式框架**：熟悉主流框架（如Kubernetes、Apache ZooKeeper、etcd）。
   - **消息队列**：使用Kafka、RabbitMQ实现异步通信。
   - **数据库**：学习NoSQL（如MongoDB、Redis）和NewSQL（如CockroachDB）。
   - **微服务**：通过Spring Cloud、gRPC构建服务化架构。

#### 3. **动手实验**
   - **搭建集群**：使用Docker或虚拟机部署多节点环境。
   - **模拟故障**：注入网络分区、节点宕机等异常，测试系统容错性。
   - **开发项目**：实现简单的分布式应用（如分布式锁、任务调度系统）。

#### 4. **学习资源推荐**
   - **书籍**：
     - 《Designing Data-Intensive Applications》（Martin Kleppmann）
     - 《Distributed Systems: Principles and Paradigms》（Andrew S. Tanenbaum）
   - **课程**：
     - MIT 6.824（分布式系统课程，含实验）
     - 极客时间《分布式技术原理与实战》
   - **社区**：参与CNCF（云原生计算基金会）、Apache项目贡献。

#### 5. **进阶方向**
   - **云原生**：研究Service Mesh（如Istio）、Serverless架构。
   - **边缘计算**：探索分布式系统在物联网场景的应用。
   - **区块链**：学习去中心化共识机制。

---

### 学习路径示例
```mermaid
graph LR
A[计算机基础] --> B[网络与并发]
B --> C[分布式理论]
C --> D[框架与工具]
D --> E[实践项目]
E --> F[领域深入]
```

通过理论学习与工程实践结合，逐步构建对分布式系统的全局认知。


## 架构设计与分布式常见问题

- 用java自己实现一个LRU。
- 分布式集群下如何做到唯一序列号。
- 设计一个秒杀系统，30分钟没付款就自动关闭交易。
- 如何使用redis和zookeeper实现分布式锁？有什么区别优缺点，会有什么问题，分别适用什么
- 场景。（延伸：如果知道redlock，讲讲他的算法实现，争议在哪里）
- 如果有人恶意创建非法连接，怎么解决。
- 分布式事务的原理，优缺点，如何使用分布式事务，2pc 3pc 的区别，解决了哪些问题，还有
- 哪些问题没解决，如何解决，你自己项目里涉及到分布式事务是怎么处理的。
- 什么是一致性hash。
- 什么是restful，讲讲你理解的restful。
- 如何设计一个良好的API。
- 如何设计建立和保持100w的长连接。
- 解释什么是MESI协议(缓存一致性)。
- 说说你知道的几种HASH算法，简单的也可以。
- 什么是paxos算法， 什么是zab协议。
- 一个在线文档系统，文档可以被编辑，如何防止多人同时对同
- 一份文档进行编辑更新。
- 线上系统突然变得异常缓慢，你如何查找问题。
- 说说你平时用到的设计模式。
- Dubbo的原理，有看过源码么，数据怎么流转的，怎么实现集群，负载均衡，服务注册
- 和发现，重试转发，快速失败的策略是怎样的 。
- 一次RPC请求的流程是什么。
- 自己实现过rpc么，原理可以简单讲讲。Rpc要解决什么问题。
- 异步模式的用途和意义。
- 编程中自己都怎么考虑一些设计原则的，比如开闭原则，以及在工作中的应用。
- 设计一个社交网站中的“私信”功能，要求高并发、可扩展等等。 画一下架构图。
- MVC模式，即常见的MVC框架。
- 聊下曾经参与设计的服务器架构并画图，谈谈遇到的问题，怎么解决的。
- 应用服务器怎么监控性能，各种方式的区别。
- 如何设计一套高并发支付方案，架构如何设计。
- 如何实现负载均衡，有哪些算法可以实现。
- Zookeeper的用途，选举的原理是什么。
- Zookeeper watch机制原理。
- Mybatis的底层实现原理。
- 请思考一个方案，实现分布式环境下的countDownLatch。
- 后台系统怎么防止请求重复提交。
- 描述一个服务从发布到被消费的详细过程。
- 讲讲你理解的服务治理。
- 如何做到接口的幂等性。
- 如何做限流策略，令牌桶和漏斗算法的使用场景。
- 什么叫数据一致性，你怎么理解数据一致性。
- 分布式服务调用方，不依赖服务提供方的话，怎么处理服务方挂掉后，大量无效资源请求
- 的浪费，如果只是服务提供方吞吐不高的时候该怎么做，如果服务挂了，那么一会重启，该怎
- 么做到最小的资源浪费，流量半开的实现机制是什么。
- dubbo的泛化调用怎么实现的，如果是你，你会怎么做。
- 远程调用会有超时现象，如果做到优雅的控制，JDK自带的超时机制有哪些，怎么实现的。
