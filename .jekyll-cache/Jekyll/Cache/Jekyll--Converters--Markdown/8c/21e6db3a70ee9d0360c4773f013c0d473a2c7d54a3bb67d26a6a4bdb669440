I"¶><h1 id="mingw-ç¼–è¯‘zliblibpnglibjpegç­‰">MinGW ç¼–è¯‘zlibã€libpngã€libjpegç­‰</h1>

<p>2013å¹´11æœˆ30æ—¥ 00:41:23</p>

<p>é˜…è¯»æ•°ï¼š17130</p>

<article>
    <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-e2445db1a8.css" />

    # MinGW

    è¿™é‡Œä½¿ç”¨çš„æ˜¯Qt5è‡ªå¸¦çš„MinGwç‰ˆæœ¬ï¼Œå°†è·¯å¾„**D:\Qt\Qt5.1.0\Tools\mingw48_32\bin**åŠ åˆ°"ç¯å¢ƒå˜é‡"â†’"ç³»ç»Ÿå˜é‡"â†’"Path"  
    å‘½ä»¤è¡Œè¾“å…¥ï¼š

    col 1 | col 2 | col 3 
    ----- | ----- | ------
    1   |         | gcc -v

    å¯çœ‹åˆ°gccç‰ˆæœ¬ä¸ºï¼šgcc version 4.8.0 (rev2, Built by MinGW-builds project)

    # MSYS

    ä¸‹è½½åœ°å€ï¼š[](http://www.mingw.org/wiki/MSYS)http://www.mingw.org/wiki/MSYS  
    å½“å‰ç‰ˆæœ¬ï¼š1.0.11  
    ä¸€è·¯å®‰è£…ä¸‹å»å³å¯

    # zlib

    ä¸‹è½½åœ°å€ï¼šhttp://www.zlib.net/  
    å½“å‰ç‰ˆæœ¬ï¼š1.2.8  
    å‘½ä»¤è¡Œè¾“å…¥ï¼š

    col 1    | col 2 | col 3                                                               
    -------- | ----- | --------------------------------------------------------------------
    1  

    2   |       | copy win32\makefile.gcc makefile.gcc  

    mingw32-make -f makefile.gcc

    ç”Ÿæˆlibz.aæ–‡ä»¶

    # libpng

    ä¸‹è½½åœ°å€ï¼š[](http://www.libpng.org/pub/png/libpng.html)http://www.libpng.org/pub/png/libpng.html  
    å½“å‰ç‰ˆæœ¬ï¼š1.6.6  
    æ‰“å¼€scripts/makefile.gccè®¾ç½®zlibè·¯å¾„ï¼š

    col 1    | col 2 | col 3                                             
    -------- | ----- | --------------------------------------------------
    1  

    2   |       | ZLIBINC = ../zlib-1.2.8  

    ZLIBLIB = ../zlib-1.2.8

    æ‹·è´scripts/pnglibconf.h.prebuiltåˆ°æºç ç›®å½•ï¼Œæ”¹åä¸ºpnglibconf.h  
    å‘½ä»¤è¡Œè¾“å…¥ï¼š

    col 1    | col 2 | col 3                                                                 
    -------- | ----- | ----------------------------------------------------------------------
    1  

    2   |       | copy scripts\makefile.gcc makefile.gcc  

    mingw32-make -f makefile.gcc

    ç”Ÿæˆlibpng.aæ–‡ä»¶

    # libjpeg

    ä¸‹è½½åœ°å€ï¼š[](http://www.ijg.org/)http://www.ijg.org/  
    å½“å‰ç‰ˆæœ¬ï¼š9  
    æ‰“å¼€MSYS (rxvt)ï¼Œè¾“å…¥ï¼š

    col 1         | col 2 | col 3                                           
    ------------- | ----- | ------------------------------------------------
    1  

    2  

    3   |       | cd /f/mycode/mysvn/jpeg-9  

    ./configure  

    make

    è‹¥æ˜¯å‡ºç°ä»¥ä¸‹é”™è¯¯ï¼š

    col 1    | col 2 | col 3                                                                                                                                  
    -------- | ----- | ---------------------------------------------------------------------------------------------------------------------------------------
    1  

    2   |       | jcapimin.c:127:1: error: conflicting types for 'jpeg_suppress_tables'  

     jpeg_suppress_tables (j_compress_ptr cinfo, boolean suppress)

    æ‰“å¼€jconfig.hï¼Œå¢åŠ ä»¥ä¸‹å®šä¹‰ï¼š  

    col 1 | col 2 | col 3                     
    ----- | ----- | --------------------------
    1   |         | \#define HAVE_PROTOTYPES 1

    é‡æ–°è¾“å…¥ï¼š

    col 1 | col 2 | col 3
    ----- | ----- | -----
    1   |         | make 

    åœ¨.libsæ–‡ä»¶å¤¹ä¸‹ç”Ÿæˆlibjpeg.aæ–‡ä»¶

    # libtiff

    ä¸‹è½½åœ°å€ï¼š[ftp://ftp.remotesensing.org/pub/libtiff](http://ftp//ftp.remotesensing.org/pub/libtiff)  
    å½“å‰ç‰ˆæœ¬ï¼š4.0.3  
    ç¼–è¯‘ä¾èµ–zlibå’Œlibjpegï¼Œæ‰“å¼€jpeg-9/jconfig.hï¼Œå®šä¹‰å¦‚ä¸‹ï¼š

    col 1    | col 2 | col 3                                                      
    -------- | ----- | -----------------------------------------------------------
    1  

    2   |       | \#define HAVE_UNSIGNED_CHAR  

    \#define HAVE_UNSIGNED_SHORT

    æ‰“å¼€MSYS (rxvt)ï¼Œè¾“å…¥ï¼š

    col 1 | col 2 | col 3                                                                                                                                                                                                        
    ----- | ----- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    1   |         | ./configure --with-zlib-include-dir=/f/mycode/mysvn/zlib-1.2.8 --with-zlib-lib-dir=/f/mycode/mysvn/zlib-1.2.8 --with-jpeg-include-dir=/f/mycode/mysvn/jpeg-9 --with-jpeg-lib-dir=/f/mycode/mysvn/jpeg-9/.libs

    æ¥ç€è¾“å…¥ï¼š

    col 1 | col 2 | col 3
    ----- | ----- | -----
    1   |         | make 

    åœ¨libtiff/.libsæ–‡ä»¶å¤¹ä¸‹ç”Ÿæˆlibtiff.aæ–‡ä»¶

    # libiconv<br />

    ä¸‹è½½åœ°å€ï¼šhttp://www.gnu.org/software/libiconv/  
    å½“å‰ç‰ˆæœ¬ï¼š1.14  
    æ‰“å¼€MSYS (rxvt)ï¼Œè¾“å…¥ï¼š

    col 1         | col 2 | col 3                                                  
    ------------- | ----- | -------------------------------------------------------
    1  

    2  

    3   |       | cd /f/mycode/mysvn/libiconv-1.14  

    ./configure  

    make

    åœ¨lib/.libsæ–‡ä»¶å¤¹ä¸‹ç”Ÿæˆlibiconv-2.dllå’Œlibiconv.dll.aæ–‡ä»¶ï¼Œè¿™æ˜¯åŠ¨æ€åº“ã€‚

    # GLEW<br />

    ä¸‹è½½åœ°å€ï¼š[http://glew.sourceforge.net/](http://glew.sourceforge.net/index.html)  
    å½“å‰ç‰ˆæœ¬ï¼š1.10.0  
    æ‰“å¼€Makefileï¼Œæ›´æ”¹SYSTEMå˜é‡ä¸ºï¼š

    col 1 | col 2 | col 3          
    ----- | ----- | ---------------
    1   |         | SYSTEM ?= mingw

    å‘½ä»¤è¡Œè¾“å…¥ï¼š

    col 1 | col 2 | col 3                   
    ----- | ----- | ------------------------
    1   |         | mingw32-make -f Makefile

    åœ¨libæ–‡ä»¶å¤¹ç”Ÿæˆlibglew32.aã€libglew32.dll.aå’Œglew32.dllæ–‡ä»¶  
    MinGWä½¿ç”¨-lxxxæ¥é“¾æ¥åº“çš„æ—¶å€™ï¼Œæœç´¢åº“çš„é¡ºåºå¦‚ä¸‹ï¼š

    col 1                        | col 2 | col 3                                                                                
    ---------------------------- | ----- | -------------------------------------------------------------------------------------
    1  

    2  

    3  

    4  

    5  

    6   |       | libxxx.dll.a   

    xxx.dll.a   

    libxxx.a   

    cygxxx.dll (*)   

    libxxx.dll   

    xxx.dll

    æµ‹è¯•ä½¿ç”¨ï¼Œæ–°å»ºQtå·¥ç¨‹ï¼Œproå†…å®¹å¦‚ä¸‹ï¼š

    col 1                                                                                 | col 2 | col 3                                                                                                                                                                                                                                                                                                                                            
    ------------------------------------------------------------------------------------- | ----- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    1  

    2  

    3  

    4  

    5  

    6  

    7  

    8  

    9  

    10  

    11  

    12  

    13  

    14  

    15  

    16   |       | QT       += core  

    QT       -= gui  


    TARGET = testc11  

    CONFIG   += console  

    CONFIG   -= app_bundle  

    CONFIG   += c++11  


    TEMPLATE = app  

    \# é“¾æ¥GLEWé™æ€åº“ç‰ˆæœ¬æ—¶å¼€å¯  

    \#DEFINES += GLEW_STATIC  INCLUDEPATH += E:/MyControl/glew-1.10.0/include  

    LIBS += -lglew32 -lopengl32 -LE:/MyControl/glew-1.10.0/lib  


    SOURCES += main.cpp

    main.cppå†…å®¹å¦‚ä¸‹ï¼š

    col 1                                       | col 2 | col 3                                                                                                                                                                            
    ------------------------------------------- | ----- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    1  

    2  

    3  

    4  

    5  

    6  

    7  

    8  

    9   |       | \#include"GL/glew.h"  
    \#include <QCoreApplication>  

    int main(int argc, char \*argv[])  

    {  

        glewInit();  

        QCoreApplication a(argc, argv);  
    return a.exec();  

    }

    ç¼–è¯‘è¿è¡ŒæˆåŠŸï¼Œå®ƒé“¾æ¥çš„æ˜¯libglew32.dll.aï¼Œè¿è¡Œéœ€è¦glew32.dllåŠ¨æ€åº“æ”¯æŒã€‚æ¥ä¸‹æ¥æµ‹è¯•é“¾æ¥é™æ€åº“ï¼Œå–æ¶ˆproæ–‡ä»¶é‡Œé¢çš„æ³¨é‡Šï¼Œç„¶åå°†E:\MyControl\glew-1.10.0\libæ–‡ä»¶å¤¹ä¸‹çš„libglew32.dll.aæ–‡ä»¶æš‚æ—¶ç§»å‡ºæ­¤æ–‡ä»¶å¤¹ï¼Œä»¥é˜²æ­¢è¢«é“¾æ¥åˆ°ã€‚é‡æ–°ç¼–è¯‘è¿è¡Œï¼Œæ­¤æ—¶é“¾æ¥åˆ°äº†é™æ€åº“libglew32.aæ–‡ä»¶ã€‚

    # libwebp<br />

    ä¸‹è½½åœ°å€ï¼š[](https://developers.google.com/speed/webp)https://developers.google.com/speed/webp  
    å½“å‰ç‰ˆæœ¬ï¼š0.3.1  
    æ‰“å¼€makefile.unixæ–‡ä»¶ï¼Œæ³¨é‡Šæ‰ä»¥ä¸‹å››è¡Œï¼Œå¦‚ä¸‹ï¼š

    col 1              | col 2 | col 3                                                                                                                                                         
    ------------------ | ----- | --------------------------------------------------------------------------------------------------------------------------------------------------------------
    1  

    2  

    3  

    4   |       | \#EXTRA_FLAGS= -DWEBP_HAVE_PNG -DWEBP_HAVE_JPEG -DWEBP_HAVE_TIFF  

    \#DWEBP_LIBS= -lpng -lz  

    \#CWEBP_LIBS= $(DWEBP_LIBS) -ljpeg -ltiff  

    \#GIF_LIBS = -lgif

    å‘½ä»¤è¡Œè¾“å…¥ï¼š

    col 1 | col 2 | col 3                        
    ----- | ----- | -----------------------------
    1   |         | mingw32-make -f makefile.unix

    åœ¨srcæ–‡ä»¶å¤¹ä¸‹ç”Ÿæˆlibwebp.aæ–‡ä»¶

    # libcurl

    ä¸‹è½½åœ°å€ï¼šhttp://curl.haxx.se/  
    å½“å‰ç‰ˆæœ¬ï¼š7.33.0  
    å‘½ä»¤è¡Œè¾“å…¥ï¼š

    col 1 | col 2 | col 3               
    ----- | ----- | --------------------
    1   |         | mingw32-make mingw32

    åœ¨libæ–‡ä»¶å¤¹ä¸‹ç”Ÿæˆlibcurl.aæ–‡ä»¶  
    æµ‹è¯•é™æ€åº“ä½¿ç”¨ï¼Œæ–°å»ºQtå·¥ç¨‹ï¼Œproå†…å®¹å¦‚ä¸‹ï¼š

    col 1                                                                           | col 2 | col 3                                                                                                                                                                                                                                                                                                                                 
    ------------------------------------------------------------------------------- | ----- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    1  

    2  

    3  

    4  

    5  

    6  

    7  

    8  

    9  

    10  

    11  

    12  

    13  

    14  

    15   |       | QT       += core  

    QT       -= gui  


    TARGET = testc11  

    CONFIG   += console  

    CONFIG   -= app_bundle  

    CONFIG   += c++11  


    TEMPLATE = app  


    DEFINES += CURL_STATICLIB  

    INCLUDEPATH += E:/MyControl/curl-7.33.0/include  

    LIBS += -LE:/MyControl/curl-7.33.0/lib -lcurl -lws2_32 -lwldap32  


    SOURCES += main.cpp

    main.cppå†…å®¹å¦‚ä¸‹ï¼š

    col 1                                                                                                                                                         | col 2 | col 3                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
    ------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    1  

    2  

    3  

    4  

    5  

    6  

    7  

    8  

    9  

    10  

    11  

    12  

    13  

    14  

    15  

    16  

    17  

    18  

    19  

    20  

    21  

    22  

    23  

    24  

    25  

    26  

    27  

    28   |       | \#include"curl/curl.h"  
    \#include <QCoreApplication>  

    int main(int argc, char \*argv[])  

    {  

        CURL *curl;  

        CURLcode res;  


        curl = curl_easy_init();  
    if(curl) {  

          curl_easy_setopt(curl, CURLOPT_URL, "http://example.com");  
    /* example.com is redirected, so we tell libcurl to follow redirection */  

          curl_easy_setopt(curl, CURLOPT_FOLLOWLOCATION, 1L);  

    /* Perform the request, res will get the return code */  

          res = curl_easy_perform(curl);  
    /* Check for errors */  
    if(res != CURLE_OK)  

            fprintf(stderr, "curl_easy_perform() failed: %s\n",  

                    curl_easy_strerror(res));  

    /* always cleanup */  

          curl_easy_cleanup(curl);  

        }  


        QCoreApplication a(argc, argv);  
    return a.exec();  

    }

    ç¼–è¯‘è¿è¡Œï¼Œå¯è§æ‰“å°å‡ºäº†ç½‘é¡µæºç ã€‚

    # FreeType<br />

    ä¸‹è½½åœ°å€ï¼š[http://www.freetype.org](http://www.freetype.org/)  
    å½“å‰ç‰ˆæœ¬ï¼š2.5.0  
    æ‰“å¼€MSYS (rxvt)ï¼Œè¾“å…¥ï¼š

    col 1         | col 2 | col 3                                                              
    ------------- | ----- | -------------------------------------------------------------------
    1  

    2  

    3   |       | cd /e/mycontrol/freetype-2.5.0  

    ./configure --without-png  

    make

    åœ¨objs\.libsæ–‡ä»¶å¤¹ä¸‹ç”Ÿæˆlibfreetype.aæ–‡ä»¶



    # å‚è€ƒèµ„æ–™ï¼š

    1.åœ¨ mingw ä¸‹ç¼–è¯‘ libHaru http://kingsz1.iteye.com/blog/543787  
    2.NDKåœ¨windowsä¸‹ç¼–è¯‘libpng [](http://www.scottcgi.com/2012/12/31/ndk%E5%9C%A8windows%E4%B8%8B%E7%BC%96%E8%AF%91libpng/)http://www.scottcgi.com/2012/12/31/ndk%E5%9C%A8windows%E4%B8%8B%E7%BC%96%E8%AF%91libpng/  
    3.mingw_how_to [](http://www.gaia-gis.it/spatialite-2.4.0/mingw_how_to.html)http://www.gaia-gis.it/spatialite-2.4.0/mingw_how_to.html  
    4.compile libjpeg with mingw [](http://stackoverflow.com/questions/13087749/compile-libjpeg-with-mingw)http://stackoverflow.com/questions/13087749/compile-libjpeg-with-mingw  
    5.Using ld, the Gnu Linker https://access.redhat.com/site/documentation/en-US/Red_Hat_Enterprise_Linux/4/html/Using_ld_the_GNU_Linker/win32.html
&lt;/article&gt;
</QCoreApplication></QCoreApplication></article>
:ET